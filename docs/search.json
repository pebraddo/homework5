[
  {
    "objectID": "Homework 5.html",
    "href": "Homework 5.html",
    "title": "Homework 5",
    "section": "",
    "text": "Powell Braddock\nST 558\nOctober 8, 2025"
  },
  {
    "objectID": "Homework 5.html#categorical-variables",
    "href": "Homework 5.html#categorical-variables",
    "title": "Homework 5",
    "section": "Categorical Variables",
    "text": "Categorical Variables\nThis one-way contingency table shows there are 67 students who live in a rural area.\n\ntable(joined_students$address)\n\n\n  R   U \n 67 253 \n\n\nThis two-way contingency table shows there are 76 students who live in an urban area with a family size of less than or equal to three.\n\ntable(joined_students[,c('address', 'famsize')])\n\n       famsize\naddress GT3 LE3\n      R  53  14\n      U 177  76\n\n\nThis three-way contingency table shows that out of the students who have a guardian as their mother, 11 of them live in rural areas with a family size of less than or equal to 3.\n\ntable(joined_students[,c('address', 'famsize', 'guardian')])\n\n, , guardian = father\n\n       famsize\naddress GT3 LE3\n      R   9   3\n      U  44  18\n\n, , guardian = mother\n\n       famsize\naddress GT3 LE3\n      R  43  11\n      U 128  55\n\n, , guardian = other\n\n       famsize\naddress GT3 LE3\n      R   1   0\n      U   5   3\n\n\nWe can use table() to create a two-way conditional table, first, by subsetting it, then, by creating a three-way table and subsetting it. Both result in the same table: where we can see 43 students with their mother as their guardian live in rural areas with family sizes greater than 3.\n\nsubset_three_way_first &lt;-\n  joined_students |&gt;\n    filter(guardian == 'mother')\ntable(subset_three_way_first[,c('address', 'famsize')])\n\n       famsize\naddress GT3 LE3\n      R  43  11\n      U 128  55\n\n\n\nthree_way &lt;- table(joined_students[,c('address', 'famsize', 'guardian')])\nthree_way[, , 'mother']\n\n       famsize\naddress GT3 LE3\n      R  43  11\n      U 128  55\n\n\nLet’s try to create a two-way contingency table using group_by() and summarize() from dplyr, then pivot_wider() to make the result look like the output from using table().\n\njoined_students |&gt;\n  group_by(address, famsize) |&gt;\n  filter(guardian == 'mother') |&gt;\n  summarise(count=n()) |&gt;\n  pivot_wider(names_from = famsize, values_from = count)\n\n`summarise()` has grouped output by 'address'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 2 × 3\n# Groups:   address [2]\n  address   GT3   LE3\n  &lt;chr&gt;   &lt;int&gt; &lt;int&gt;\n1 R          43    11\n2 U         128    55\n\n\nNow for the visual: We can use ggplot() to create both a stacked bar graph and a side-by-side bar graph!\n\ng &lt;- ggplot(data = joined_students |&gt; drop_na(address, famsize), aes(x = address, fill = famsize)) + \n  geom_bar() +\n  labs(x = \"Address\",\n       title = \"Stacked Address vs. Family Size Bar Graph\")\nh &lt;- ggplot(data = joined_students |&gt; drop_na(address, famsize), aes(x = address, fill = famsize)) + \n  geom_bar(position = 'dodge') +\n  labs(x = \"Address\",\n       title = \"Side-By-Side Address vs. Family Size Bar Graph\") +\n  scale_fill_discrete('Family Size')\n\ng\n\n\n\n\n\n\n\nh"
  },
  {
    "objectID": "Homework 5.html#numeric-variables-and-across-groups",
    "href": "Homework 5.html#numeric-variables-and-across-groups",
    "title": "Homework 5",
    "section": "Numeric Variables (and Across Groups)",
    "text": "Numeric Variables (and Across Groups)\nMoving on, let’s investigate the numeric variables: age, absences, and the three test grade variables. We can begin by checking out the measures of center and spread for age, absences in Portuguese, and the G3 grade in Portuguese.\n\njoined_students |&gt;\n  summarize(across(all_of(c('age', 'absences.x', 'G3.x')),\n                   list('mean'=mean, 'median' = median, 'stddev'=sd, 'IQR'=IQR), \n                   .names = '{.fn}_{.col}'))\n\n# A tibble: 1 × 12\n  mean_age median_age stddev_age IQR_age mean_absences.x median_absences.x\n     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;\n1     16.5         16       1.14       1            3.25                 2\n# ℹ 6 more variables: stddev_absences.x &lt;dbl&gt;, IQR_absences.x &lt;dbl&gt;,\n#   mean_G3.x &lt;dbl&gt;, median_G3.x &lt;dbl&gt;, stddev_G3.x &lt;dbl&gt;, IQR_G3.x &lt;dbl&gt;\n\n\nNow what does those measures look like across the address grouping variable? Looks like students with an urban address have a slightly lower average age, lower average absences, and higher average G3 value than their rural address counterparts.\n\njoined_students |&gt;\n  group_by(address) |&gt;\n  summarize(across(all_of(c('age', 'absences.x', 'G3.x')),\n                   list('mean'=mean, 'median' = median, 'stddev'=sd, 'IQR'=IQR), \n                   .names = '{.fn}_{.col}'))\n\n# A tibble: 2 × 13\n  address mean_age median_age stddev_age IQR_age mean_absences.x\n  &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;\n1 R           17.0         17       1.12       2            3.64\n2 U           16.4         16       1.12       1            3.14\n# ℹ 7 more variables: median_absences.x &lt;dbl&gt;, stddev_absences.x &lt;dbl&gt;,\n#   IQR_absences.x &lt;dbl&gt;, mean_G3.x &lt;dbl&gt;, median_G3.x &lt;dbl&gt;,\n#   stddev_G3.x &lt;dbl&gt;, IQR_G3.x &lt;dbl&gt;\n\n\nHow about across both address and family size? Students from rural areas and larger family size have lower average and median G3 Portuguese scores than students with smaller families and students with urban addresses.\n\njoined_students |&gt;\n  group_by(address, famsize) |&gt;\n  summarize(across(all_of(c('age', 'absences.x', 'G3.x')),\n                   list('mean'=mean, 'median' = median, 'stddev'=sd, 'IQR'=IQR), \n                   .names = '{.fn}_{.col}'))\n\n`summarise()` has grouped output by 'address'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 4 × 14\n# Groups:   address [2]\n  address famsize mean_age median_age stddev_age IQR_age mean_absences.x\n  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;   &lt;dbl&gt;           &lt;dbl&gt;\n1 R       GT3         16.9       17         1.13       2            3.77\n2 R       LE3         17.1       17.5       1.10       1            3.14\n3 U       GT3         16.4       16         1.14       2            3.14\n4 U       LE3         16.5       16         1.08       1            3.16\n# ℹ 7 more variables: median_absences.x &lt;dbl&gt;, stddev_absences.x &lt;dbl&gt;,\n#   IQR_absences.x &lt;dbl&gt;, mean_G3.x &lt;dbl&gt;, median_G3.x &lt;dbl&gt;,\n#   stddev_G3.x &lt;dbl&gt;, IQR_G3.x &lt;dbl&gt;\n\n\nLet’s see what the correlation matrix looks like between all of the numeric variables!\nI found it interesting and validating that the correlation between absences from both subjects was as high as it was because if a student misses a full day of classes, they will be absent from both subjects.\nCorrelation between grades of the same subject is strong, which is reasonable.\nI am surprised to see a lack of correlation between absences and the resulting grades.\n\nnumeric_cols &lt;- c('age', 'absences.x', 'absences.y', 'G1.x','G1.y','G2.x','G2.y','G3.x','G3.y')\njoined_students |&gt;\n  group_by(address, famsize) |&gt;\n  drop_na(address, famsize) |&gt;\n  group_map(~ cor(select(.x, all_of(numeric_cols)), use='pairwise.complete.obs'))\n\n[[1]]\n                  age  absences.x   absences.y         G1.x        G1.y\nage         1.0000000  0.02231590  0.122430636 -0.308979607 -0.33739786\nabsences.x  0.0223159  1.00000000  0.545014966  0.053414412 -0.04272201\nabsences.y  0.1224306  0.54501497  1.000000000  0.001071468 -0.03639847\nG1.x       -0.3089796  0.05341441  0.001071468  1.000000000  0.49330890\nG1.y       -0.3373979 -0.04272201 -0.036398467  0.493308901  1.00000000\nG2.x       -0.1979836 -0.05662266 -0.187827628  0.893195765  0.42984035\nG2.y       -0.3009960 -0.08701930 -0.004885199  0.495071074  0.79867219\nG3.x       -0.2714971  0.10519965 -0.111511821  0.832770724  0.41850833\nG3.y       -0.3320560 -0.03330366  0.064142061  0.459543685  0.74112461\n                  G2.x         G2.y       G3.x        G3.y\nage        -0.19798364 -0.300995963 -0.2714971 -0.33205604\nabsences.x -0.05662266 -0.087019298  0.1051996 -0.03330366\nabsences.y -0.18782763 -0.004885199 -0.1115118  0.06414206\nG1.x        0.89319577  0.495071074  0.8327707  0.45954369\nG1.y        0.42984035  0.798672188  0.4185083  0.74112461\nG2.x        1.00000000  0.479661171  0.8616956  0.43693625\nG2.y        0.47966117  1.000000000  0.4317353  0.91125120\nG3.x        0.86169563  0.431735332  1.0000000  0.42717412\nG3.y        0.43693625  0.911251196  0.4271741  1.00000000\n\n[[2]]\n                  age absences.x absences.y       G1.x       G1.y       G2.x\nage         1.0000000 -0.2884610 -0.2683441  0.1274118  0.2357521  0.2792640\nabsences.x -0.2884610  1.0000000  0.5013448 -0.2905811 -0.1888127 -0.2538378\nabsences.y -0.2683441  0.5013448  1.0000000  0.1956903  0.1349129  0.1284521\nG1.x        0.1274118 -0.2905811  0.1956903  1.0000000  0.6099943  0.9598542\nG1.y        0.2357521 -0.1888127  0.1349129  0.6099943  1.0000000  0.7261974\nG2.x        0.2792640 -0.2538378  0.1284521  0.9598542  0.7261974  1.0000000\nG2.y        0.1849887 -0.1962120  0.1957705  0.6885455  0.9709464  0.7724401\nG3.x        0.2225803 -0.1833817  0.1123294  0.9542088  0.6692779  0.9845596\nG3.y        0.2117455 -0.1740109  0.2331931  0.7154944  0.9576221  0.8130773\n                 G2.y       G3.x       G3.y\nage         0.1849887  0.2225803  0.2117455\nabsences.x -0.1962120 -0.1833817 -0.1740109\nabsences.y  0.1957705  0.1123294  0.2331931\nG1.x        0.6885455  0.9542088  0.7154944\nG1.y        0.9709464  0.6692779  0.9576221\nG2.x        0.7724401  0.9845596  0.8130773\nG2.y        1.0000000  0.7124695  0.9680914\nG3.x        0.7124695  1.0000000  0.7524812\nG3.y        0.9680914  0.7524812  1.0000000\n\n[[3]]\n                    age  absences.x  absences.y         G1.x        G1.y\nage         1.000000000  0.08187731  0.17029758  0.004670431 -0.12643709\nabsences.x  0.081877308  1.00000000  0.46312376 -0.140770964 -0.07111310\nabsences.y  0.170297577  0.46312376  1.00000000 -0.152299536 -0.04531815\nG1.x        0.004670431 -0.14077096 -0.15229954  1.000000000  0.62897667\nG1.y       -0.126437093 -0.07111310 -0.04531815  0.628976668  1.00000000\nG2.x        0.088968076 -0.13591592 -0.14981846  0.857738718  0.62633157\nG2.y       -0.182465757 -0.12877651 -0.05711755  0.540329548  0.86619574\nG3.x        0.089194788 -0.11995882 -0.15515685  0.789343891  0.56973812\nG3.y       -0.202836129 -0.13730875 -0.01846225  0.513019311  0.81912401\n                  G2.x        G2.y        G3.x        G3.y\nage         0.08896808 -0.18246576  0.08919479 -0.20283613\nabsences.x -0.13591592 -0.12877651 -0.11995882 -0.13730875\nabsences.y -0.14981846 -0.05711755 -0.15515685 -0.01846225\nG1.x        0.85773872  0.54032955  0.78934389  0.51301931\nG1.y        0.62633157  0.86619574  0.56973812  0.81912401\nG2.x        1.00000000  0.56499376  0.89120788  0.53567319\nG2.y        0.56499376  1.00000000  0.47276924  0.90249599\nG3.x        0.89120788  0.47276924  1.00000000  0.44394413\nG3.y        0.53567319  0.90249599  0.44394413  1.00000000\n\n[[4]]\n                   age  absences.x  absences.y        G1.x        G1.y\nage         1.00000000  0.01668099  0.13284862  0.11813462  0.05715574\nabsences.x  0.01668099  1.00000000  0.78573016 -0.04951089 -0.10709168\nabsences.y  0.13284862  0.78573016  1.00000000 -0.07366428 -0.16636225\nG1.x        0.11813462 -0.04951089 -0.07366428  1.00000000  0.51375050\nG1.y        0.05715574 -0.10709168 -0.16636225  0.51375050  1.00000000\nG2.x        0.18254889 -0.07449093 -0.09739041  0.90154343  0.55678429\nG2.y       -0.09987551 -0.11227040 -0.19609976  0.44647805  0.89544530\nG3.x        0.20626857 -0.07978230 -0.12190694  0.87873812  0.56966473\nG3.y       -0.12333793 -0.09673063 -0.13224641  0.46588501  0.84392698\n                  G2.x        G2.y       G3.x        G3.y\nage         0.18254889 -0.09987551  0.2062686 -0.12333793\nabsences.x -0.07449093 -0.11227040 -0.0797823 -0.09673063\nabsences.y -0.09739041 -0.19609976 -0.1219069 -0.13224641\nG1.x        0.90154343  0.44647805  0.8787381  0.46588501\nG1.y        0.55678429  0.89544530  0.5696647  0.84392698\nG2.x        1.00000000  0.48217767  0.9277630  0.51147036\nG2.y        0.48217767  1.00000000  0.4686609  0.92010117\nG3.x        0.92776304  0.46866095  1.0000000  0.45531436\nG3.y        0.51147036  0.92010117  0.4553144  1.00000000\n\n\nLet’s check out a histogram for age and absences in Portuguese across address. I’m not feeling like we can draw many conclusions from this visual, as there are more urban address students represented and it is a count graph and age and absences are plotted on the same histogram, per the instructions, which is weird.\n\nhisto_data &lt;- joined_students |&gt;\n  drop_na(age, absences.x, address) |&gt;\n  select(address, age, absences.x) |&gt;\n  pivot_longer(cols=c(age, absences.x),\n               names_to = 'variable',\n               values_to = 'value')\nggplot(histo_data, aes(x=value, fill = interaction(variable, address))) + \n  geom_histogram(alpha=0.5, bins=15) +\n  labs(title = 'Histogram of Age and Absences.x across Address')\n\n\n\n\n\n\n\n\nThe Kernel Density Plot makes slightly more sense, as it shows density instead of count data, however the age and absences being on the same plot really confuses me.\n\nggplot(histo_data, aes(x=value, fill = interaction(variable, address))) + \n  geom_density(kernel='gaussian') +\n  labs(title = 'Kernel Density Plot of Age and Absences.x across Address')\n\n\n\n\n\n\n\n\nFinally, the boxplot of the same information makes way more sense. We can see the wider spread of the number of absences among rural students versus urban students. Age is also more widely spread in the rural student population than the urban students.\n\nggplot(histo_data, aes(x= variable, y=value, fill=address)) + \n  geom_boxplot(alpha=0.5)+ \n  labs(title='Boxplot of Age and Absences.x across Address')\n\n\n\n\n\n\n\n\nWe can see in both of the scatterplots belowthe relationship between the G3.x variable and both Absences.x and age across address. Most of the students have less than 10 absences for this course, while the age is more spread across different values in a cluster, with less outliers for either type of address.\n\nggplot(joined_students, aes(x= absences.x, y=G3.x, color=address)) + \n  geom_point(position='jitter') +\n  labs(title = 'G3.x vs. Absences.x across Address Scatterplot')\n\n\n\n\n\n\n\nggplot(joined_students, aes(x= age, y=G3.x, color=address)) + \n  geom_point(position='jitter')+\n  labs(title = 'G3.x vs. Age across Address Scatterplot')\n\n\n\n\n\n\n\n\nLet’s see how these scatterplots look for different student’s father’s jobs. More scatter for grades occurred in services than any other jobs. Most jobs were in the ‘other’ category, with only rural address students having very low (outlier) G3.x scores. Father’s who had jobs ‘at_home’ or in ‘health’ had students with a G3.x score of more than 10.\n\nggplot(joined_students, aes(x= age, y=G3.x, color=address)) + \n  geom_point(position='jitter')+\n  facet_wrap(~ Fjob)+\n  labs(title='G3.x vs. Age across Address and Fjob Scatterplots')\n\n\n\n\n\n\n\n\nLet’s see about these same core variables across parental living status and involvement in extra-curricular activities.\nMore students had parents who lived together than apart. No students with parents living apart had less than a 9 score for the G3.x, while there was certainly more spread among the larger population of students with parents that lived together.\n\nggplot(joined_students, aes(x= age, y=G3.x, color=address)) + \n  geom_point(position='jitter')+\n  facet_wrap(activities ~ Pstatus)+\n  labs(title='G3.x vs. Age across Address, Activities, and Pstatus Scatterplots')\n\n\n\n\n\n\n\n\nThere is one outlier of a student living in a rural area with parents that live together and is involved with extra-curricular activities who scored very low on the G3.x variable. A follow-up might be to investigate this student and if any data is missing or if there are challenging experiences occurring that are not included in the data categories."
  }
]